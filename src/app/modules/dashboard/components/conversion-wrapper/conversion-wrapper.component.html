<div class="row mt-4 mb-5">
    <div class="col-12 col-md-4" *ngFor="let stat of stats">
        <app-card-stat [stat]="stat" [height]="auto"></app-card-stat>
    </div>
</div>

<div class="row mb-5">
    <div class="col-12">
        <div class="adaptable-container">
            <table mat-table [dataSource]="dataSource">
                <!-- category column -->
                <ng-container matColumnDef="category">
                    <th mat-header-cell *matHeaderCellDef> Categoría </th>
                    <td mat-cell *matCellDef="let element"> {{element.category}} </td>
                </ng-container>

                <!-- product column -->
                <ng-container matColumnDef="product">
                    <th mat-header-cell *matHeaderCellDef> Producto </th>
                    <td mat-cell *matCellDef="let element"> {{element.product}} </td>
                </ng-container>

                <!-- amount -->
                <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef> Cantidad</th>
                    <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
                </ng-container>

                <!-- yoy_amount -->
                <ng-container matColumnDef="yoy_amount">
                    <th mat-header-cell *matHeaderCellDef> %YoY</th>
                    <td mat-cell *matCellDef="let element"> {{element.yoy_amount}}% </td>
                </ng-container>

                <!-- product_revenue -->
                <ng-container matColumnDef="product_revenue">
                    <th mat-header-cell *matHeaderCellDef> Revenue del producto</th>
                    <td mat-cell *matCellDef="let element"> {{element.product_revenue}} </td>
                </ng-container>

                <!-- yoy_product_revenue -->
                <ng-container matColumnDef="yoy_product_revenue">
                    <th mat-header-cell *matHeaderCellDef> %YoY</th>
                    <td mat-cell *matCellDef="let element"> {{element.yoy_product_revenue}}% </td>
                </ng-container>

                <!-- aup -->
                <ng-container matColumnDef="aup">
                    <th mat-header-cell *matHeaderCellDef> AUP</th>
                    <td mat-cell *matCellDef="let element"> {{element.aup}} </td>
                </ng-container>

                <!-- yoy_aup -->
                <ng-container matColumnDef="yoy_aup">
                    <th mat-header-cell *matHeaderCellDef> %YoY</th>
                    <td mat-cell *matCellDef="let element"> {{element.yoy_aup}}% </td>
                </ng-container>

                <!-- disclaimer column -->
                <ng-container matColumnDef="disclaimer">
                    <td mat-footer-cell *matFooterCellDef colspan="3">
                        <div class="text-danger text-center" *ngIf="getReqStatus === 3">
                            Ocurrió un error al consultar los usuarios
                        </div>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <tr mat-footer-row *matFooterRowDef="['disclaimer']" class="example-second-footer-row"
                    [hidden]="getReqStatus !== 3"></tr>
            </table>
        </div>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>
</div>

<div class="row mb-5">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <span class="h4">Usuarios vs Transacciones</span>
            </div>
            <div class="card-body">
                <app-chart-column-line-mix [data]="usersVsTransacctions" name="users-vs-transaccions" category="date"
                    columnValue="users" lineValue="transaccions" columnName="Usuarios" lineName="Transacciones"
                    height="250px">
                </app-chart-column-line-mix>
            </div>
        </div>
    </div>
</div>

<div class="row mb-5">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <span class="h4">Cantidad vs AUP</span>
            </div>
            <div class="card-body">
                <app-chart-column-line-mix [data]="amountVsAUP" name="amount-vs-aup" category="date"
                    columnValue="amount" lineValue="aup" columnName="Cantidad" lineName="AUP" height="250px">
                </app-chart-column-line-mix>
            </div>
        </div>
    </div>
</div>